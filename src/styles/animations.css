/* ==========================================================================
   ANIMACIONES KEYFRAME 
   ========================================================================== */

@keyframes glowing {
  0%,
  100% {
    background-position: 0% 50%;
    transform: scale(1) rotate(0deg);
  }
  50% {
    background-position: 100% 50%;
    transform: scale(1.02) rotate(1deg);
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@layer techstack-animations {
  /* Entrance animation for tech icons: avoid using @apply to keep build stable */
  .tech-enter {
    transform: translateY(1.75rem); /* equivalent to translate-y-7 */
    opacity: 0;
    animation: fadeInUp 0.6s ease-out forwards;
  }

  .tech-enter:nth-child(1) {
    animation-delay: 0.1s;
  }
  .tech-enter:nth-child(2) {
    animation-delay: 0.2s;
  }
  .tech-enter:nth-child(3) {
    animation-delay: 0.3s;
  }
  .tech-enter:nth-child(4) {
    animation-delay: 0.4s;
  }
  .tech-enter:nth-child(5) {
    animation-delay: 0.5s;
  }
  .tech-enter:nth-child(6) {
    animation-delay: 0.6s;
  }
  .tech-enter:nth-child(7) {
    animation-delay: 0.7s;
  }
  .tech-enter:nth-child(8) {
    animation-delay: 0.8s;
  }
  .tech-enter:nth-child(9) {
    animation-delay: 0.9s;
  }
}

/* Helper to ensure transform origin and smoother rendering */
.card-inner {
  transform-origin: center center;
  will-change: transform;
}

/* Propiedades que Tailwind no cubre: easing personalizado y will-change */
.card-root {
  will-change: transform;
  /* curva más suave para entrada/salida */
  transition-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* Efecto glassmorph ligero y espejo (no muy intenso) */
@keyframes glassmorph-glow {
  0% {
    filter: brightness(1) saturate(1);
    transform: translateY(0) rotate(0deg);
    opacity: 0.95;
  }
  50% {
    filter: brightness(1.05) saturate(1.02) blur(0.2px);
    transform: translateY(-1px) rotate(0.2deg);
    opacity: 1;
  }
  100% {
    filter: brightness(1) saturate(1);
    transform: translateY(0) rotate(0deg);
    opacity: 0.95;
  }
}

.glassmorph-effect {
  /* versión suave y elegante: reflejo discreto sin sobrepasar colores */
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(4px) saturate(1.03);
  -webkit-backdrop-filter: blur(4px) saturate(1.03);

  box-shadow: 0 2px 10px rgba(2, 6, 23, 0.04);
  transition:
    transform 520ms cubic-bezier(0.2, 0.8, 0.2, 1),
    filter 520ms ease,
    box-shadow 520ms ease;
}

/* sheen: pseudo-element desplazable que simula un reflejo sutil sin cambiar colores */
.glassmorph-effect::before {
  content: '';
  position: absolute;
  top: -40%;
  left: -150%;
  width: 300%;
  height: 180%;
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.12) 45%,
    rgba(255, 255, 255, 0.04) 55%,
    rgba(255, 255, 255, 0) 100%
  );
  transform: rotate(-20deg);
  pointer-events: none;
  mix-blend-mode: screen; /* mantiene colores base pero añade brillo */
  opacity: 0.35;
  filter: blur(3px);
  transition:
    opacity 520ms ease,
    transform 520ms ease;
  /* movimiento aún más lento y muy sutil */
  animation: sheen-move 10s ease-in-out infinite;
}

.glassmorph-effect:hover::before {
  opacity: 0.65;
  transform: rotate(-20deg) translateY(-2px) scale(1.005);
}

@keyframes sheen-move {
  0% {
    transform: rotate(-20deg) translateX(-100%);
    opacity: 0;
  }
  30% {
    opacity: 0.9;
  }
  60% {
    opacity: 0.9;
  }
  100% {
    transform: rotate(-20deg) translateX(100%);
    opacity: 0;
  }
}

/* Animación para expandir verticalmente al mostrar cards
   Clase utilizable desde JS: .animate-expand-vertically
   Duración requerida: 2000ms */
@keyframes expand-vertically {
  0% {
    transform: scaleY(0);
    opacity: 0;
    transform-origin: top;
  }
  60% {
    transform: scaleY(1.02);
    opacity: 1;
  }
  100% {
    transform: scaleY(1);
    opacity: 1;
    transform-origin: top;
  }
}

.animate-expand-vertically {
  animation-name: expand-vertically;
  animation-duration: 2500ms; /* solicitado */
  animation-timing-function: cubic-bezier(0.2, 0.9, 0.25, 1);
  animation-fill-mode: both;
  will-change: transform, opacity;
}

/* Suavizar movimiento vertical del botón 'Mostrar más' para evitar saltos bruscos */
.show-more-projects-btn {
  display: inline-block; /* asegurar que transform se aplica correctamente */
  transition:
    transform 360ms cubic-bezier(0.2, 0.9, 0.25, 1),
    margin 360ms ease,
    opacity 200ms ease;
  will-change: transform, margin, opacity;
}
