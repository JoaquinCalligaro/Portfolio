---
import TechStackSection from './TechStack/TechStackSection.astro';

interface Props {
  className?: string;
}

const { className = '' } = Astro.props;

// Agrupar tecnologías por categorías solicitadas
const stacks = [
  {
    title: 'Front-end',
    items: [
      {
        name: 'HTML5',
        hex: '#E34F26',
        hexAlpha: '#E34F2633',
        icon: `<svg class="w-8 h-8" viewBox="0 0 24 24" fill="currentColor"><path d="M1.5 0l1.5 16.5L12 18l9-1.5L22.5 0H1.5zM17.2 6.6l-.2 2.2H12.8l.2 2.5h4.3l-.5 5.4L12 17.7l-4.8-1.3-.3-3.3h2.2l.1 1.1 2.8.8 2.8-.8.3-3.1H6.2L5.9 4.9h12.2l-.9 1.7z"/></svg>`,
        color: 'text-orange-500',
      },
      {
        name: 'CSS3',
        hex: '#1572B6',
        hexAlpha: '#1572B633',
        icon: `<svg class="w-8 h-8" viewBox="0 0 24 24" fill="currentColor"><path d="M1.5 0h21L19.5 18 12 21l-7.5-3L1.5 0zM17.6 6.2H6.4l.3 3.5h10.6l-.2 2.3L12 14.7 6.8 12.1l-.5-5.6h11.3z"/></svg>`,
        color: 'text-blue-600',
      },
      {
        name: 'Sass',
        hex: '#CC6699',
        hexAlpha: '#CC669933',
        icon: `<svg class="w-8 h-8" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.373 0 0 5.373 0 12c0 6.627 5.373 12 12 12 6.627 0 12-5.373 12-12C24 5.373 18.627 0 12 0zm1.2 17.6c-1.6 1.2-3.9 1.2-5.7.1-1.4-.9-2.1-2.6-1.6-4.2.5-1.7 2.1-2.5 3.7-3 1.7-.5 3.6-.1 4.7 1 1.2 1.3 1.2 3.4-.2 5.1z"/></svg>`,
        color: 'text-pink-500',
      },
      {
        name: 'Tailwind CSS',
        hex: '#06B6D4',
        hexAlpha: '#06B6D433',
        icon: `<svg class="w-8 h-8" viewBox="0 0 24 24" fill="currentColor"><path d="M12 4.8c-3.2 0-5.2 1.6-6 4.8 1.2-1.6 2.6-2.2 4.2-1.8 0.913.228 1.565.89 2.288 1.624C13.666 10.618 15.027 12 18.001 12c3.2 0 5.2-1.6 6-4.8-1.2 1.6-2.6 2.2-4.2 1.8-0.913-.228-1.565-.89-2.288-1.624C16.337 6.182 14.976 4.8 12 4.8zM6 12c-3.2 0-5.2 1.6-6 4.8 1.2-1.6 2.6-2.2 4.2-1.8C3.913 15.228 4.565 15.89 5.288 16.624 6.465 17.818 7.826 19.2 10.8 19.2c3.2 0 5.2-1.6 6-4.8-1.2 1.6-2.6 2.2-4.2 1.8-0.913-.228-1.565-.89-2.288-1.624C10.337 13.382 8.976 12 6 12z"/></svg>`,
        color: 'text-teal-500',
      },
      {
        name: 'JavaScript',
        hex: '#F7DF1E',
        hexAlpha: '#F7DF1E33',
        icon: `<svg class="w-8 h-8" viewBox="0 0 24 24" fill="currentColor"><path d="M2 0h20v24H2zM14.5 18.2c.9.5 2 .9 3.4.9 1.4 0 2.3-.7 2.3-1.9 0-1.3-1-1.8-2.7-2.6l-.9-.4c-.8-.4-1.4-.8-1.4-1.7 0-.9.7-1.6 1.8-1.6.8 0 1.4.2 1.8.8l1-1c-.6-.6-1.6-1.1-3.1-1.1-1.8 0-3.1 1.1-3.1 2.6 0 1.5 1 2 2.7 2.9l.9.4c.9.4 1.4.9 1.4 1.8 0 1.1-.9 1.9-2.5 1.9-1.6 0-2.9-.5-3.7-1.2l-1.1 1.1c1.1 1.1 2.9 1.9 5.1 1.9 3.2 0 5.2-1.7 5.2-4.2 0-2.2-1.9-3.1-4.2-4.4l-1-.4c-1.3-.5-1.9-1-1.9-1.9 0-1.1 1-1.9 2.7-1.9 1.1 0 2 .3 2.6 1l1-1c-.9-1-2.5-1.6-4.4-1.6-3.5 0-5.9 2.1-5.9 5 0 3.1 2.6 4.8 5.7 6z"/></svg>`,
        color: 'text-yellow-500',
      },
      {
        name: 'TypeScript',
        hex: '#3178C6',
        hexAlpha: '#3178C633',
        icon: `<svg class="w-8 h-8" viewBox="0 0 24 24" fill="currentColor"><path d="M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zM17.5 9v6h-2V9h2zm-11 0h7v2h-5v6h-2V9z"/></svg>`,
        color: 'text-blue-600',
      },
      {
        name: 'React',
        hex: '#61DAFB',
        hexAlpha: '#61DAFB33',
        icon: `<svg class="w-8 h-8" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C10.2 2 8.5 2.5 7 3.4 5.5 4.2 4.3 5.3 3.5 6.8 2.7 8.3 2.2 10 2.1 11.8c1.9-1 4-1.6 6-1.6s4.1.6 6 1.6c-.1-1.8-.6-3.5-1.4-5C16.3 5.3 15.1 4.2 13.6 3.4 12.1 2.5 10.4 2 9 2z"/></svg>`,
        color: 'text-cyan-400',
      },
      {
        name: 'Astro',
        hex: '#FF5E00',
        hexAlpha: '#FF5E0033',
        icon: `<svg class="w-8 h-8" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C7.5 0 3.6 2 2 5.5 1 8.3 1 11.5 2.5 14.1 4 16.6 7.3 18 12 18s7.9-1.4 9.5-3.9C23 11.5 23 8.3 22 5.5 20.4 2 16.5 0 12 0z"/></svg>`,
        color: 'text-orange-500',
      },
    ],
  },
  {
    title: 'Bases de datos',
    items: [
      {
        name: 'SQL',
        hex: '#4479A1',
        hexAlpha: '#4479A133',
        icon: `<svg class="w-8 h-8" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0L1 5v6c0 5.5 3.7 10.5 11 13 7.3-2.5 11-7.5 11-13V5l-11-5zM12 9.5c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3z"/></svg>`,
        color: 'text-gray-900 dark:text-white',
      },
    ],
  },
  {
    title: 'Herramientas',
    items: [
      {
        name: 'Git',
        hex: '#F1502F',
        hexAlpha: '#F1502F33',
        icon: `<svg class="w-8 h-8" viewBox="0 0 24 24" fill="currentColor"><path d="M10 2v6.1C7.7 8.6 5.9 10.4 5 12.7L1 14l2.3 3.9C4 17.9 6.6 15.9 10 16v6h4v-6.1c2.3-.5 4-2.3 4.9-4.6L23 10l-4-1.3c-.9 2.3-2.6 4.1-4.9 4.6V2h-4z"/></svg>`,
        color: 'text-red-600',
      },
      {
        name: 'VSCode',
        hex: '#007ACC',
        hexAlpha: '#007ACC33',
        icon: `<svg class="w-8 h-8" viewBox="0 0 24 24" fill="currentColor"><path d="M2 3.5v17L9 15l5 3 8-5V3.5L14 8 9 5 2 3.5z"/></svg>`,
        color: 'text-blue-500',
      },
      {
        name: 'Postman',
        hex: '#FF6C37',
        hexAlpha: '#FF6C3733',
        icon: `<svg class="w-8 h-8" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0L2 6v12l10 6 10-6V6L12 0zm2.6 14.3l-1.8.9-.8 1.8-1.8-.9-1.8.9L6 14.6 7.9 12l1.8.9.8-1.8 1.8.9L15 9.4 14 12l.6 2.3z"/></svg>`,
        color: 'text-orange-500',
      },
    ],
  },
  {
    title: 'Diseño',
    items: [
      {
        name: 'Figma',
        hex: '#F24E1E',
        hexAlpha: '#F24E1E33',
        icon: `<svg class="w-8 h-8" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2c-1.7 0-3 1.3-3 3s1.3 3 3 3c1.7 0 3-1.3 3-3S13.7 2 12 2zM7 5c-1.7 0-3 1.3-3 3s1.3 3 3 3h2V5H7zM7 13c-1.7 0-3 1.3-3 3s1.3 3 3 3h2v-6H7zM12 11c-1.7 0-3 1.3-3 3s1.3 3 3 3c1.7 0 3-1.3 3-3s-1.3-3-3-3zM17 5c-1.7 0-3 1.3-3 3s1.3 3 3 3c1.7 0 3-1.3 3-3S18.7 5 17 5z"/></svg>`,
        color: 'text-pink-500',
      },
      {
        name: 'Adobe Photoshop',
        hex: '#31A8FF',
        hexAlpha: '#31A8FF33',
        icon: `<svg class="w-8 h-8" viewBox="0 0 24 24" fill="currentColor"><path d="M3 3h18v18H3zM9 7v10h2V9h4V7H9z"/></svg>`,
        color: 'text-blue-700',
      },
      {
        name: 'Canva',
        hex: '#00C4CC',
        hexAlpha: '#00C4CC33',
        icon: `<svg class="w-8 h-8" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.6 0 12 0zM9 16.5c-1 0-1.8-.8-1.8-1.8S8 13 9 13s1.8.8 1.8 1.8S10 16.5 9 16.5z"/></svg>`,
        color: 'text-teal-600',
      },
    ],
  },
];

const splitClasses = className.split(' ');
---

<div
  class="tech-stack-card w-full rounded-md border border-gray-300 bg-white p-6 shadow-sm dark:border-neutral-800 dark:bg-gray-950/30"
  class:list={splitClasses}
>
  <div class="flex flex-col gap-4">
    <div class="mb-2 flex items-center gap-3">
      <div
        class="flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-amber-400 to-orange-500"
      >
        <svg
          class="h-5 w-5 text-white"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"
          ></path>
        </svg>
      </div>
      <h3 class="text-lg font-bold text-gray-950 sm:text-xl dark:text-white">
        Tech Stack
      </h3>
    </div>

    <p class="text-sm text-gray-600 dark:text-gray-400">
      Tecnologías frontend modernas que utilizo para crear experiencias web
      excepcionales
    </p>

    <div class="mt-4 flex flex-col gap-4">
      {
        stacks.map((stack) => (
          <TechStackSection title={stack.title} items={stack.items} />
        ))
      }
    </div>

    <script>
      // Efecto interactivo adicional para los iconos de tecnologías
      document.addEventListener('DOMContentLoaded', () => {
        const techIcons = document.querySelectorAll(
          '.tech-stack__item'
        ) as NodeListOf<HTMLElement>;

        techIcons.forEach((icon) => {
          icon.addEventListener('mouseenter', () => {
            // Pequeña vibración al hacer hover
            icon.style.transform = 'translateY(-4px) scale(1.05)';
          });

          icon.addEventListener('mouseleave', () => {
            icon.style.transform = 'translateY(0) scale(1)';
          });

          // Efecto de click
          icon.addEventListener('click', () => {
            const techName = icon.getAttribute('data-tech-name');

            // Crear un pequeño efecto de "ping"
            icon.style.transform = 'translateY(-4px) scale(0.95)';
            setTimeout(() => {
              icon.style.transform = 'translateY(-4px) scale(1.05)';
            }, 150);

            // Opcional: podrías agregar aquí funcionalidad adicional
            // como mostrar más información sobre la tecnología
            console.log(`Clicked on ${techName}`);
          });
        });
      });
    </script>
  </div>
</div>
