---
// TechCard - Refactorizado usando principalmente Tailwind
interface Props {
  name: string;
  hex: string;
  hexAlpha: string;
  icon: string;
  color?: string;
  rounded?: string;
  loading?: 'eager' | 'lazy';
}

const {
  name,
  hex,
  hexAlpha,
  icon,
  color = '',
  rounded = 'rounded-2xl',
  loading = 'lazy',
} = Astro.props as Props;
---

<div
  class={`tech-card tech-card-enter group ${rounded} 
          flex flex-col items-center justify-center gap-1 p-2   cursor-pointer
          transition-all duration-300 
          bg-white/50 dark:bg-gray-900/30
          hover:transform hover:-translate-y-1 hover:scale-105
          md:min-h-20 md:min-w-30 md:p-1`}
  data-tech-name={name}
  style={`--tech-color: ${hex}; --tech-color-alpha: ${hexAlpha}; --tech-color-alpha-hover: ${hex}40; --tech-color-border: ${hex}4D; --tech-color-border-hover: ${hex}CC`}
>
  <!-- Icono -->
  <div
    class={`${color} flex-shrink-0 w-8 h-8 flex items-center justify-center transition-transform duration-300 group-hover:-translate-y-1 group-hover:scale-105`}
  >
    {
      icon.startsWith('/') ? (
        <img
          src={icon}
          alt={name}
          loading={loading}
          decoding="async"
          class="h-full w-full object-contain"
        />
      ) : (
        <div
          set:html={icon}
          class="flex h-full w-full items-center justify-center"
        />
      )
    }
  </div>

  <!-- Label -->
  <span
    class="text-center text-xs font-medium whitespace-nowrap text-gray-700 transition-all duration-300 group-hover:pointer-events-auto group-hover:translate-y-0 group-hover:opacity-100 max-md:pointer-events-none max-md:absolute max-md:bottom-1.5 max-md:left-1/2 max-md:-translate-x-1/2 max-md:translate-y-2 max-md:opacity-0 md:static md:mt-2 md:transform-none md:opacity-100 dark:text-gray-300"
  >
    {name}
  </span>
</div>
