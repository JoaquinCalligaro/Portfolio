---
// Reusable reload/retry captcha button
const {
  id = undefined,
  type = 'button',
  className = '',
  class: cls = '',
  disabled = false,
} = Astro.props;
import LocalizedText from '../language/LocalizedText.astro';

const {
  localizedText = 'contact.retryCaptcha',
  localizedTextLoading = 'contact.retryingCaptcha',
} = Astro.props;
---

<button
  id={id}
  type={type}
  class={`inline-flex items-center justify-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-lg hover:from-blue-500 hover:to-indigo-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 cursor-pointer disabled:opacity-50 ${className} ${cls}`}
  disabled={disabled}
>
  <span class="label"
    >{
      Astro.slots.default ? <slot /> : <LocalizedText key={localizedText} />
    }</span
  >
  <span class="loading hidden"
    ><LocalizedText key={localizedTextLoading} /></span
  >
</button>

<style>
  button .loading {
    display: none;
  }
  button.loading-state .label {
    display: none;
  }
  button.loading-state .loading {
    display: inline;
  }
</style>
