---
// TimelineItem.astro
// Entrada reutilizable para la línea de tiempo (Experiencia).
// - Icono por defecto: `Education.astro`. Sobrescribible con el slot `icon`.
// - Props: title, date, description, badgeText, iconClass?, iconLabel?.
// - Accesibilidad: por defecto el icono es decorativo (aria-hidden). Si se
//   pasa `iconLabel` se añade role="img" y aria-label.

import Education from '../icons/Education.astro';

interface Props {
  title: string; // headline/company
  date: string; // dates string
  description: string; // short description for the item
  badgeText?: string; // optional pill next to the title
  // class to apply to the icon component (keeps presentation customizable)
  iconClass?: string;
  // when provided, the icon becomes semantic: role="img" + aria-label
  iconLabel?: string;
}

const { title, date, description, badgeText, iconClass, iconLabel } =
  Astro.props as Props;
---

<li>
  <span>
    <Education
      class={`${iconClass}`}
      {...iconLabel
        ? { role: 'img', 'aria-label': iconLabel }
        : { 'aria-hidden': 'true' }}
    />
    <slot name="icon" />
  </span>
  <h3>
    {title}
    {badgeText && <span>{badgeText}</span>}
  </h3>
  <time>{date}</time>
  <p>
    {description}
  </p>
  <slot name="extra-content" />
</li>
